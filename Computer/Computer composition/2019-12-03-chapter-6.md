---
title: 6. 总线
date: 2019-11-28
---

## 1. 小结

1. 引入总线结构有什么好处？

   引入总线结构主要有以下优点：

   1. 简化了系统结构，便于系统设计制造
   2. 大大减少了连线数目，便于布线，减小体积，提高系统的可靠性
   3. 便于接口设计，所有与总线连接的设备均采用类似的接口
   4. 便于系统的扩充、更新与灵活配置,易于实现系统的模块化
   5. 便于设备的软件设计，所有接口的软件对不同的接口地址进行操作
   6. 便于故障诊断和维修，同时也能降低成本

2. 引入总线会导致什么问题？如何解决？

   引入总线后，总线上的各个设备分时共享同一总线，当总线上多个设备同时要求使用总线时就会导致总线的冲突。为解决多个主设备同时竟争总线控制权的问题，应当采用总线仲裁部件，以某种方式选择一个主设备优先获得总线控制权，只有获得了总线控制权的设备才能开始数据传送。

## 2. 查缺补漏

1. 同一个总线不能既采用同步方式又采用异步方式通信吗？

   半同步通信总线可以。这类总线既保留了同步通信的特点，又能采用异步**应答方式**连接遠度相差较大的设备。通过在异步总线中引入时钟信号，其就绪和应答等信号都在时钟的上升沿或下降沿有效，而不受其他时间的信号干扰。

   例如，某个采用半同步方式的总线总是从某个时钟开始，在每个时钟到来时，采样 Wait 信号，若无效，则说明数据末准备好，下个时钟到来时，再采样 Wait 信号，直到检测到有效，再去数据线上取数据。PCI 总线也是一种半同步总线，它的所有事件都在时钟下降沿同步，总线设备在时钟开始的上升沿采样总线信号。

2. 一个总线在某一时刻可以有**多对**主从设备进行通信吗？

   不可以。在某个总线周期内，总线上只有一个主设备控制总线，选择一个从设备与之进行通信（即一对一的关系），或对所有设备进行广播通信（即一对多的关系）。所以一个总线在某一时刻不能有多对主从设备进行通信，否则会发生数据冲突。