---
title: 2.3 物理层设备
date: 2019-11-05
---

## 1. 中继器

中继器又称**转发器**，主要功能是将信号**整形并放大再转发**出去，以消除信号经过一长段电缆后，因噪声或其他原因而造成的失真和衰减，使信号的波形和强度达到所需要的要求，进而扩大网络传输的距离。其原理是**信号再生**（而非简单地将衰减的信号放大）。中继器有两个端口，数据从一个端口输入，再从一个端口发出。**端口仅作用于信号的电气部分**，而不管数据中是否有错误数据或不适于网段的数据。

中继器是局域网环境下**用来扩大网络规模的最简单、最廉价的互联设备**。使用中继器连接的几个网段仍然是一个局域网。一般情况下，中继器的两端连接的是相同的媒体，但有的中继器也可以完成不同媒体的转接工作。但由于中继器工作在物理层，因此它**不能连接两个具有不同速率的局域网**。**中继器两端的网络部分是网段，而不是子网**。中继器若出现故障，对相邻两个网段的工作都将产生影响。

从理论上讲，中继器的使用数目是无限的，网络因而也可以无限延长。但事实上这不可能，因为**网络标准中对信号的延迟范围做了具体的规定**，中继器只能在此规定范围内进行有效的工作，否则会引起网络故障。例如，在采用粗同轴电缆的 10BASE5 以太网规范中，**互相串联的中继器的个数不能超过 4 个，而且用 4 个中继器串联的 5 段通信介质中只有 3 段可以挂接计算机**，其余两段只能用作扩展通信范围的链路段，不能挂接计算机。这就是所谓的 "5-4-3 规则" 。

注意：**放大器和中继器都起放大作用，只不过放大器放大的是模拟信号，原理是讲衰减的信号放大，而中继器放大的是数字信号，原理是将衰减的信号整形再生**。如果某个网络设备具有存储转发的功能，那么可以认为它能连接两个不同的协议，**如果该网络设备没有存储转发功能，那么认为它不能连接两个不同的协议**。中继器是没有存储转发功能的，因此它不能连接两个速率不同的网段，**中继器的网段一定要使用同一个协议**。  

## 2. 集线器

**集线器（Hub）实质上是一个多端口的中继器**，它也工作在物理层。当 Hub 工作时，一个端口接收到数据信号后，由于信号在从端口到 Hub 的传输过程中已有衰减，所以 Hub 便将该信号进行**整形放大，使之再生**（恢复）到发送时的状态，紧接着转发到其他所有（除输入端口外）处于工作状态的端口。如果同时有两个或多个端口输入，那么输出时会发生冲突，致使这些数据都无效。从 Hub 的工作方式可以看出，它在网络中**只起信号放大和转发作用**，目的是扩大网络的传输范围，而不具备信号的定向传送能力，即信号传输的方向是固定的，是一个标准的共享式设备。

Hub 主要**使用双绞线组建共享网络**，是从服务器连接到桌面的最经济方案，在交换式网络中，Hub 直接与交换机相连，将交换机端口的数据送到桌面上。使用 Hub 组网灵活，它把所有结点的通信集中在以其为中心的结点上，对结点相连的工作站进行集中管理，不让出问题的工作站影响整个网络的正常运行，并且用户的加入和退出也很自由。

由 Hub 组成的网路是共享式网络，但逻辑上仍是一个总线网。Hub 的每个端口连接的网络部分是同一个网络的不同网段，同时 **Hub 也只能在半双工状态下工作**，网络的吞吐率因而受到限制。

注意：**多台计算机必然会发生同时通信的情形，因此集线器不能分割冲突域，所有集线器的端口都属于同一个冲突域**。集线器在一个时钟周期中只能传输一组信息，如果一台集线器连接的机器数目较多，且多台机器经常需要同时通信，那么将导致信息碰撞，使得集线器的工作效率很差。比如，一个带宽为 10Mb/s 的集线器上连接了 8 台计算机，当这 8 台计算机同时工作时，每台计算机真正所拥有的带宽为 10/8 Mb/s=1.25Mb/s 。

### 3. 查缺补漏

1. 两个网段在物理层互联时要求数据传输率要相同，但数据链路层协议可以不同。

   在物理层互联成功，只表明这两个网段之间可以互相传送物理层信号，但并不能保证可以互相传送数据链路层的帧，要达到在数据链路层互通的目的，要求数据传输率和链路层协议都相同。

2. 中继器是整形重生；放大器只是放大，所以噪音也会被放大。